clc
a=zeros(24);
a(1,18)=450;
a(2,18)=80;
a(3,18)=1150;a(3,8)=1100;
a(4,5)=306;
a(5,6)=195;
a(6,7)=20;
a(7,8)=202;
a(8,19)=1200;a(8,9)=720;
a(9,20)=690;a(9,10)=520;
a(10,22)=170;
a(11,22)=88;a(11,24)=462;
a(12,23)=70;
a(13,23)=320;a(13,15)=160;
a(14,15)=70;
a(15,16)=290;
a(16,17)=30;
a(21,22)=690;
a(22,23)=160;
a=a';
[i,j,v]=find(a);%查找不为零的点
b=sparse(i,j,v,24,24);%稀疏矩阵
c=[7,19,20,21,24,14,17];%工厂的点数
x1=zeros(17,7);%用来存放最短路径
i=1;
j=1;
for j=1:17
    for i=1:7
        [x1(j,i),y,z]=graphshortestpath(b,c(i),j,'Directed',false);
        y
    end
end
x1

